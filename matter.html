<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<link rel="apple-touch-icon" sizes="76x76" href="assets/img/apple-icon.png">
	<link rel="icon" type="image/png" sizes="96x96" href="assets/img/favicon.png">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

	<title>Neutrino Oscillations JS</title>

	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />


    <!-- Bootstrap core CSS     -->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Animation library for notifications   -->
    <link href="assets/css/animate.min.css" rel="stylesheet"/>

    <!--  Paper Dashboard core CSS    -->
    <link href="assets/css/paper-dashboard.css" rel="stylesheet"/>




    <!--  Fonts and icons     -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Muli:400,300' rel='stylesheet' type='text/css'>
    <link href="assets/css/themify-icons.css" rel="stylesheet">

    <!-- Functionplot and d3 BEGIN -->
    <script src="http://d3js.org/d3.v3.min.js"></script>
      <script src="assets/function-plot-1.16.5/dist/function-plot.js"></script>

    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        showProcessingMessages: false,
        messageStyle: 'none',
        tex2jax: {
          inlineMath: [['$','$']],
          displayMath: [['$$','$$']],
          processEnvironments: false
        },
        TeX: {
          equationNumbers: {
            autoNumber: "AMS"
          }
        },
        'HTML-CSS': {
          imageFont: null
        }
      });
    </script>

    <!-- Functionplot and d3 END -->

    <!-- Neutrino Specific END -->
    <link href="assets/neutrino/neutrino.css" rel="stylesheet">
    <!-- Neutrino Specific END -->



</head>
<body>

<div class="wrapper">
    <div class="sidebar" data-background-color="black" data-active-color="success">

    <!--
		Tip 1: you can change the color of the sidebar's background using: data-background-color="white | black"
		Tip 2: you can change the color of the active button using the data-active-color="primary | info | success | warning | danger"
	-->

    	<div class="sidebar-wrapper">
            <div class="logo">
                <a href="#" class="simple-text">
                    Neutrino Oscillation JavaScript
                </a>
            </div>

            <ul class="nav">
                <li>
                    <a href="index.html">
                        <p>Vacuum Oscillations (2)</p>
                    </a>
                </li>
                <li>
                    <a href="vacuum3.html">
                        <p>Vacuum Oscillations (3)</p>
                    </a>
                </li>
                <li class="active">
                    <a href="matter.html">
                        <p>Oscillations in Matter</p>
                    </a>
                </li>
                <li>
                    <a href="misc.html">
                        <p>MISC</p>
                    </a>
                </li>
                <li>
                    <a href="about.html">
                        <p>About</p>
                    </a>
                </li>
            </ul>
    	</div>
    </div>

    <div class="main-panel">
        <nav class="navbar navbar-default">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar bar1"></span>
                        <span class="icon-bar bar2"></span>
                        <span class="icon-bar bar3"></span>
                    </button>
                    <a class="navbar-brand" href="#">Vacuum Oscillations</a>
                </div>
                <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="https://github.com/NeuPhysics/neutrino-oscillation-js">
                                <i class="ti-github"></i>
								<p>GitHub</p>
                            </a>
                        </li>
                        <li class="dropdown">
                              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                    <i class="ti-infinite"></i>
                                    <p class="notification"></p>
									<p>Neutrino Physics</p>
									<b class="caret"></b>
                              </a>
                              <ul class="dropdown-menu">
                                <li><a href="http://docs.neutrino.xyz/">Neutrino Notes</a></li>
                                <li><a href="http://neutrino.xyz/neutrino-map/">Neutrino Map</a></li>
                                <li><a href="https://github.com/NeuPhysics/neupackage">Neutrino Packages</a></li>
                                <li><a href="https://github.com/NeuPhysics">NeuPhysics @ GitHub</a></li>
                              </ul>
                        </li>
                    </ul>

                </div>
            </div>
        </nav>


        <div class="content">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-12">
                        <div class="card">
                            <div class="header">
                                <h4 class="title">Two Flavor Oscillations in Matter (Adiabatic): Survival Probability</h4>
                                <p class="category">Read about the theoretical formula <a href="misc.html#oscillations-in-matter-adiabatic">here</a>.</p>
                            </div>
                            <div class="content">


                            <!-- Input Parameters BEGIN -->
                            <div class="row">
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label style="display:block;">Energy of Neutrinos</label>
                                            <input style="display:inline;width:50%;" type="text" class="form-control border-input" placeholder="Energy" id="vacEnergy" value="1"> MeV
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label style="display:block;">Mass Squared Difference</label>
                                            <input style="display:inline;width:50%;" type="text" class="form-control border-input" placeholder="Mass Squared Difference" id="vacMassSquared" value=7.53> Ã—10<sup>-5</sup>eV<sup>2</sup>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label style="display:block;">Vacuum Mixing Angle</label>
                                            <input style="display:inline;width:50%;" type="number" class="form-control border-input" placeholder="Mixing Angle" id="vacMixingAngle" value="0.59"> RAD
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label style="display:block;">Initial $\nu_e$ Probability</label>
                                            <input style="display:inline;width:50%;" type="number" class="form-control border-input" placeholder="Electron Flavor" id="vacInitialElectronFlavor" value="1">
                                        </div>
                                    </div>
                            </div>

                            <!-- <div id="vacuum-oscillation" class="plot"></div>
                            <div id="vacuum-oscillation-mass-eigenstate" class="plot"></div> -->


                            <script id="vacuum-oscillation-javascript">

                            function plotvac() {

                              var vacEnergyValue = document.getElementById("vacEnergy").value;
                              var vacMassSquaredValue = document.getElementById("vacMassSquared").value;
                              var vacMixingAngleValue = document.getElementById("vacMixingAngle").value;
                              var vacInitialElectronFlavorValue = document.getElementById("vacInitialElectronFlavor").value;

                              var vacOscLength = 2*parseFloat(vacEnergyValue)*4.0*197.0/(10^6 * parseFloat(vacMassSquaredValue) );

                              var vaca = Math.sqrt(vacInitialElectronFlavorValue);
                              var vacb = Math.sqrt(1 - vaca);

                              vacFES = functionPlot({
                                title: 'Vacuum Oscillations Flavor Eigenstates' ,
                                target: '#vacuum-oscillation',
                                tip: {
                                xLine: true,    // dashed line parallel to y = 0
                                yLine: true,    // dashed line parallel to x = 0
                                renderer: function (x, y, index) {
                                  // the returning value will be shown in the tip
                                  }
                                },
                                width: 800,
                                height: 600,
                                xAxis: {
                                  label: 'Distance (km)',
                                  domain: [0,vacOscLength]
                                },
                                yAxis: {
                                  label: 'Survival Probability',
                                  domain: [0,1]
                                },
                                grid: true,
                                data: [
                                    {
                                  //fn: vacInitialElectronFlavorValue+'*(1 - sin(2*'+vacMixingAngleValue+')^2'+'* sin(2*'+vacMassSquaredValue+'*10^(-5-12)*x*10^(18)/(197*4*'+vacEnergyValue+'))^2 )', color:'#0074D9'
                                  fn: vaca+'^2*(cos('+vacMixingAngleValue+')^4+sin('+vacMixingAngleValue+')^4)+'+vacb+'^2*sin(2*'+vacMixingAngleValue+')^2/2-'+vaca+'*'+vacb+'*sin(2*'+vacMixingAngleValue+')*cos(2*'+vacMixingAngleValue+')+('+vaca+'^2/2*sin(2*'+vacMixingAngleValue+')^2-'+vacb+'^2/2*sin(2*'+vacMixingAngleValue+')^2+'+vaca+'*'+vacb+'*sin(2*'+vacMixingAngleValue+')*cos(2*'+vacMixingAngleValue+'))*cos(4*'+vacMassSquaredValue+'*10^(-5-12)*x*10^(18)/(197*4*'+vacEnergyValue+'))', color:'#0074D9'
                              },
                                {
                                  //fn: '( sin(2*'+vacMixingAngleValue+')^2'+'* sin(2*'+vacMassSquaredValue+'*10^(-5-12)*x*10^(18)/(197*4*'+vacEnergyValue+'))^2 )', color:'red'
                                  fn: '1-('+vaca+'^2*(cos('+vacMixingAngleValue+')^4+sin('+vacMixingAngleValue+')^4)+'+vacb+'^2*sin(2*'+vacMixingAngleValue+')^2/2-'+vaca+'*'+vacb+'*sin(2*'+vacMixingAngleValue+')*cos(2*'+vacMixingAngleValue+')+('+vaca+'^2/2*sin(2*'+vacMixingAngleValue+')^2-'+vacb+'^2/2*sin(2*'+vacMixingAngleValue+')^2+'+vaca+'*'+vacb+'*sin(2*'+vacMixingAngleValue+')*cos(2*'+vacMixingAngleValue+'))*cos(4*'+vacMassSquaredValue+'*10^(-5-12)*x*10^(18)/(197*4*'+vacEnergyValue+')))', color:'red'
                                }
                                ]
                              });

                              vacMES = functionPlot({
                                title: 'Vacuum Oscillations Mass Eigenstates' ,
                                target: '#vacuum-oscillation-mass-eigenstate',
                                tip: {
                                xLine: true,    // dashed line parallel to y = 0
                                yLine: true,    // dashed line parallel to x = 0
                                renderer: function (x, y, index) {
                                  // the returning value will be shown in the tip
                                  }
                                },
                                width: 800,
                                height: 600,
                                xAxis: {
                                  label: 'Distance (km)',
                                  domain: [0,vacOscLength]
                                },
                                yAxis: {
                                  label: 'Survival Probability',
                                  domain: [0,1]
                                },
                                grid: true,
                                data: [
                                    {
                                  fn: vaca+'^2*cos('+vacMixingAngleValue+')^2+'+vacb+'^2*sin('+vacMixingAngleValue+')^2-sin(2*'+vacMixingAngleValue+')*'+vaca+'*'+vacb, color:'#0074D9'
                              },
                                {
                                  //fn: '( sin(2*'+vacMixingAngleValue+')^2'+'* sin(2*'+vacMassSquaredValue+'*10^(-5-12)*x*10^(18)/(197*4*'+vacEnergyValue+'))^2 )', color:'red'
                                  fn: '1-('+vaca+'^2*cos('+vacMixingAngleValue+')^2+'+vacb+'^2*sin('+vacMixingAngleValue+')^2-sin(2*'+vacMixingAngleValue+')*'+vaca+'*'+vacb+')', color:'red'
                                }
                                ]
                              });
                              vacFES.addLink(vacMES)
                              vacMES.addLink(vacFES)
                            }


                            plotvac()

                            vacEnergy.addEventListener("input", plotvac)
                            vacMassSquared.addEventListener("input", plotvac)
                            vacMixingAngle.addEventListener("input", plotvac)
                            vacInitialElectronFlavor.addEventListener("input", plotvac)

                            </script>

                                <!-- Input Parameters END -->

                                <div class="footer">
                                    <div class="chart-legend">
                                        <span style="color:#0074D9;"><i class="fa fa-circle"></i>$\nu_e$ Probability</span>
                                        <span style="color:red;"><i class="fa fa-circle"></i>$\nu_x$ Probability</span>
                                    </div>
                                    <hr>
                                    <div class="stats">
                                        <i class="ti-info"></i> Calculated Using Analytical Formula Derived <a href="misc.html#oscillations-in-matter-adiabatic">HERE</a>.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>


        <footer class="footer">
            <div class="container-fluid">
                <nav class="pull-left">
                    <ul>

                        <li>
                            <a href="http://neutrino.xyz">
                                Neutrino Physics
                            </a>
                        </li>
                        <li>
                            <a href="http://docs.neutrino.xyz">
                               Neutrino Notes
                            </a>
                        </li>

                    </ul>
                </nav>
                <div class="copyright pull-right">
                    &copy; <script>document.write(new Date().getFullYear())</script>, made with <i class="fa fa-heart heart"></i> by <a href="http://openmetric.org">OctoMiao</a>
                </div>
            </div>
        </footer>

    </div>
</div>


</body>

    <!--   Core JS Files   -->
    <script src="assets/js/jquery-1.10.2.js" type="text/javascript"></script>
	<script src="assets/js/bootstrap.min.js" type="text/javascript"></script>

	<!--  Checkbox, Radio & Switch Plugins -->
	<script src="assets/js/bootstrap-checkbox-radio.js"></script>

	<!--  Charts Plugin -->
	<script src="assets/js/chartist.min.js"></script>

    <!--  Notifications Plugin    -->
    <script src="assets/js/bootstrap-notify.js"></script>

    <!--  Google Maps Plugin    -->
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js"></script>

    <!-- Paper Dashboard Core javascript and methods for Demo purpose -->
	<script src="assets/js/paper-dashboard.js"></script>

    <!-- WIP Warning -->
    <script type="text/javascript">
    	$(document).ready(function(){


        	$.notify({
            	icon: 'ti-pulse',
            	message: "Welcome to <b>Neutrino Oscillations JS</b> (Work In Progress). We appreciate your bug report and suggestions on <a href='https://github.com/NeuPhysics/neutrino-oscillation-js/issues' style='color:black;'>github</a>."

            },{
                type: 'info',
                timer: 10000,
                placement: {
                    from: 'bottom',
                    align: 'left'
                }
            });

    	});
	</script>

    <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-66327435-4', 'auto');
        ga('send', 'pageview');

    </script>

</html>
